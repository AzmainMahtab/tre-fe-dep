import{_ as x,N as u,t as n,v as i,x as t,y as s,B as c,R as h,S as p}from"./entry.fd3bedb8.js";import{a as r}from"./axios.956017f4.js";const m={components:{},data(){return{id:u().params.id,dataMedia:[],dataCustomer:[],dataProduct:[],countC:0,pageC:1,pagginationC:8,showNextC:!1,showPrevC:!1,countP:0,pageP:1,pagginationP:8,showNextP:!1,showPrevP:!1}},created(){this.getData()},computed:{},methods:{async getData(){await r.get(`/crm-medias/${this.id}/`).then(a=>{this.dataMedia=a.data,console.table(this.dataMedia),this.getCustomer(),this.getProduct()}).catch(a=>{console.log(a)})},async getProduct(){await r.get(`crm-products-table/?media_id=${this.dataMedia.id}`).then(a=>{a.data.previous==null?this.showPrevP=!0:this.showPrevP=!1,a.data.next==null?this.showNextP=!0:this.showNextP=!1,this.countP=a.data.count,this.dataProduct=a.data.results}).catch(a=>{console.log(a)})},async getCustomer(){await r.get(`crm-customers-table/?media_id=${this.dataMedia.id}`).then(a=>{a.data.previous==null?this.showPrevC=!0:this.showPrevC=!1,a.data.next==null?this.showNextC=!0:this.showNextC=!1,this.countC=a.data.count,this.dataCustomer=a.data.results}).catch(a=>{console.log(a)})},ShowNextC(){this.pageC++,this.getCustomer()},ShowPrevC(){this.pageC--,this.getCustomer()},ShowNextP(){this.pageP++,this.getProduct()},ShowPrevP(){this.pageP--,this.getProduct()}}},g={class:"flex justify-between items-center"},y=t("p",{class:"headerNav"},"Media Details",-1),v={class:"flex items-center"},P=t("div",{class:"borderNav"},null,-1),f={class:"grid grid-cols-5 text-slate-500 fill-slate-700 font-semibold"},b=t("div",{class:"col-span-1"},null,-1),w={class:"col-span-3 mt-6 mx-10"},C={class:"text-3xl my-1 text-slate-700 font-semibold"},N={class:"text-xl my-1"},M={class:"text-slate-700"},k={class:"text-xl my-1"},S={class:"text-slate-700"},A={class:"text-xl my-1"},D={class:"text-slate-700"},V={class:"text-xl my-1"},B={class:"text-slate-700"},L={class:"text-xl my-1"},T={class:"text-slate-700"},j=t("div",{class:"col-span-1"},null,-1),E=t("div",{class:"col-span-1"},null,-1),F={class:"col-span-3"},I={class:"mt-10"},R=t("p",{class:"text-slate-600 text-xl my-1"},"Sourced Customer",-1),G={class:"min-w-max w-full table-auto"},q=t("thead",{class:""},[t("tr",{class:"bg-gray-200 text-gray-700 font-semibold uppercase text-[13px]"},[t("th",{class:"py-2 px-6 text-left rounded-tl"},"ID"),t("th",{class:"py-2 px-6 text-center"},"Lead Title"),t("th",{class:"py-2 px-6 text-center"},"Phone"),t("th",{class:"py-2 px-6 text-center"},"Status"),t("th",{class:"py-2 px-6 text-center"},"Followup"),t("th",{class:"py-2 px-6 text-center rounded-tr"},"Action")])],-1),z={class:"text-sm font-medium text-gray-700"},H={class:"py-3 px-6 text-left whitespace-nowrap"},J={class:"font-semibold"},K={class:"py-1 px-6 text-center"},O={class:"py-1 px-6 text-center"},Q={class:"py-1 px-6 text-center"},U={class:"py-1 px-6 text-center"},W={class:"py-1 px-6 text-center"},X=["onClick"],Y={class:"flex justify-end items-center mr-10"},Z={class:"lbl"},$=["disabled"],tt=["disabled"],st=t("div",{class:"col-span-1"},null,-1),et=t("div",{class:"col-span-1"},null,-1),ot={class:"col-span-3"},at={class:"mt-10"},lt=t("p",{class:"text-slate-600 text-xl my-1"},"Sourced Property",-1),nt={class:"min-w-max w-full table-auto"},it=t("thead",{class:""},[t("tr",{class:"bg-gray-200 text-gray-700 font-semibold uppercase text-[13px]"},[t("th",{class:"py-2 px-6 text-left rounded-tl"},"ID"),t("th",{class:"py-2 px-6 text-center"},"Title"),t("th",{class:"py-2 px-6 text-center"},"Type"),t("th",{class:"py-2 px-6 text-center"},"Area"),t("th",{class:"py-2 px-6 text-center rounded-tr"},"Action")])],-1),ct={class:"text-sm font-medium text-gray-700"},dt={class:"py-3 px-6 text-left whitespace-nowrap"},rt={class:"font-semibold"},ht={class:"py-1 px-6 text-center"},pt={class:"py-1 px-6 text-center"},_t={class:"py-1 px-6 text-center"},xt={class:"py-1 px-6 text-center"},ut=["onClick"],mt={class:"flex justify-end items-center mr-10"},gt={class:"lbl"},yt=["disabled"],vt=["disabled"],Pt=t("div",{class:"col-span-1"},null,-1);function ft(a,l,bt,wt,e,d){return n(),i("div",null,[t("div",g,[y,t("div",v,[t("p",{class:"mx-1 underline text-slate-700 cursor-pointer hover:scale-105 font-semibold",onClick:l[0]||(l[0]=o=>this.$router.push("/media"))}," View All Media ")])]),P,t("div",f,[b,t("div",w,[t("p",C,s(e.dataMedia.first_name)+" "+s(e.dataMedia.last_name),1),t("p",N,[c(" Address Line 1: "),t("span",M,s(e.dataMedia.address),1)]),t("p",k,[c(" Address Line 2: "),t("span",S,s(e.dataMedia.address2),1)]),t("p",A,[c(" Phone: "),t("span",D,s(e.dataMedia.phone),1)]),t("p",V,[c(" Email: "),t("span",B,s(e.dataMedia.email),1)]),t("p",L,[c(" Gender: "),t("span",T,s(e.dataMedia.gender),1)])]),j,E,t("div",F,[t("div",I,[R,t("table",G,[q,t("tbody",z,[(n(!0),i(h,null,p(e.dataCustomer,o=>(n(),i("tr",{key:o,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",H,[t("span",J,s(o.id),1)]),t("td",K,s(o.first_name),1),t("td",O,s(o.phone),1),t("td",Q,s(o.status),1),t("td",U,s(o.followup),1),t("td",W,[t("span",{class:"text-tre4 underline cursor-pointer hover:text-orange-600",onClick:_=>this.$router.push(`/customer/${o.id}`)},"View",8,X)])]))),128))])]),t("div",Y,[t("p",Z,s(e.pageC)+" of "+s(Math.ceil(e.countC/e.pagginationC))+" page ",1),t("button",{onClick:l[1]||(l[1]=o=>d.ShowPrevC()),disabled:e.showPrevC,class:"btnP"}," Prev ",8,$),t("button",{onClick:l[2]||(l[2]=o=>d.ShowNextC()),disabled:e.showNextC,class:"btnP"}," Next ",8,tt)])])]),st,et,t("div",ot,[t("div",at,[lt,t("table",nt,[it,t("tbody",ct,[(n(!0),i(h,null,p(e.dataProduct,o=>(n(),i("tr",{key:o,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",dt,[t("span",rt,s(o.id),1)]),t("td",ht,s(o.product_uid),1),t("td",pt,s(o.product_type),1),t("td",_t,s(o.area),1),t("td",xt,[t("span",{class:"text-tre4 underline cursor-pointer hover:text-orange-600",onClick:_=>this.$router.push(`/product/${o.id}`)},"View",8,ut)])]))),128))])]),t("div",mt,[t("p",gt,s(e.pageP)+" of "+s(Math.ceil(e.countP/e.pagginationP))+" page ",1),t("button",{onClick:l[3]||(l[3]=o=>d.ShowPrevP()),disabled:e.showPrevP,class:"btnP"}," Prev ",8,yt),t("button",{onClick:l[4]||(l[4]=o=>d.ShowNextP()),disabled:e.showNextP,class:"btnP"}," Next ",8,vt)])])]),Pt])])}const Mt=x(m,[["render",ft]]);export{Mt as default};
