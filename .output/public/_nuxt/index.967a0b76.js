import{a as p}from"./axios.932f1ea5.js";import{_ as u,v as n,x as e,O as c,P as h,V as m,M as d,Q as x,R as f,y as r,t as i}from"./entry.b2f02e1d.js";const _={data(){return{empid:1,dataCustomer:[],search:"",myCustomer:!1,isActive:!1,count:0,page:1,paggination:8,showNext:!1,showPrev:!1}},created(){this.getData()},methods:{async getData(){this.myCustomer?(this.empid=1,this.isActive=!0):(this.empid="",this.isActive=!1),await p.get(`/crm-customers-table/?assigned_employee_id=${this.empid}&is_active=${this.isActive}&page=${this.page}&search=${this.search}`).then(a=>{a.data.previous==null?this.showPrev=!0:this.showPrev=!1,a.data.next==null?this.showNext=!0:this.showNext=!1,this.count=a.data.count,this.dataCustomer=a.data.results}).catch(a=>{console.log(a)})},ShowNextF(){this.page++,this.getData()},ShowPrevF(){this.page--,this.getData()},goToCreate(){this.$router.push("/customer/create")}}},y={class:"flex justify-between"},g=e("p",{class:"headerNav"},"All Customers",-1),b=e("div",{class:"borderNav"},null,-1),v={class:"flex justify-start items-center mx-2"},w=e("div",{class:"text-sm font-medium text-gray-800"},"Search by name:",-1),C=e("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-tre peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-tre2"},null,-1),k={key:0,class:"ms-2 text-sm font-medium text-gray-800"},N={key:1,class:"ms-2 text-sm font-medium text-gray-800"},P={class:"m-2"},D={class:"min-w-max w-full table-auto"},A=e("thead",{class:""},[e("tr",{class:"bg-gray-200 text-gray-700 font-semibold uppercase text-[13px]"},[e("th",{class:"py-2 px-6 text-left rounded-tl"},"ID"),e("th",{class:"py-2 px-6 text-center"},"Lead Title"),e("th",{class:"py-2 px-6 text-center"},"Phone"),e("th",{class:"py-2 px-6 text-center"},"Assign Person"),e("th",{class:"py-2 px-6 text-center"},"Status"),e("th",{class:"py-2 px-6 text-center"},"Created At"),e("th",{class:"py-2 px-6 text-center rounded-tr"},"Action")])],-1),S={class:"text-sm font-medium text-gray-700"},F={class:"py-3 px-6 text-left whitespace-nowrap"},V={class:"font-semibold"},M={class:"py-1 px-6 text-center"},j={class:"py-1 px-6 text-center"},B={class:"py-1 px-6 text-center"},T={key:0},E={key:1},L={class:"py-1 px-6 text-center"},U={class:"py-1 px-6 text-center"},I={class:"py-1 px-6 text-center"},K=["onClick"],O={class:"flex justify-end items-center mr-10"},Q={class:"lbl"},R=["disabled"],q=["disabled"];function z(a,s,G,H,o,l){return i(),n("div",null,[e("div",y,[g,e("button",{onClick:s[0]||(s[0]=t=>this.$router.push("/customer/create")),class:"btnC flex items-center"}," Create Custome ")]),b,e("div",v,[w,c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.search=t),type:"text",placeholder:"Enter First Name",onKeyup:s[2]||(s[2]=t=>{o.page=1,l.getData()}),class:"border-1 mx-1 text-base rounded-md w-[200px] py-1 px-3 focus:border-tre focus:bottom-0 focus:outline-none focus:ring focus:ring-tre transition-all"},null,544),[[h,o.search]]),e("label",{onChange:s[4]||(s[4]=t=>{o.page=1,l.getData()}),class:"relative inline-flex items-center cursor-pointer mx-1"},[c(e("input",{type:"checkbox",value:"",class:"sr-only peer","onUpdate:modelValue":s[3]||(s[3]=t=>o.myCustomer=t)},null,512),[[m,o.myCustomer]]),C,o.myCustomer?(i(),n("span",k,"My Customers")):d("",!0),o.myCustomer?d("",!0):(i(),n("span",N,"New Customers"))],32)]),e("div",P,[e("table",D,[A,e("tbody",S,[(i(!0),n(x,null,f(o.dataCustomer,t=>(i(),n("tr",{key:t,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",F,[e("span",V,r(t.id),1)]),e("td",M,r(t.first_name),1),e("td",j,r(t.phone),1),e("td",B,[t.assigned_employee_id==null?(i(),n("span",T,"Not assigned")):(i(),n("span",E,r(t.assigned_employee_id),1))]),e("td",L,r(t.status),1),e("td",U,r(t.created_at),1),e("td",I,[e("span",{class:"text-tre4 underline cursor-pointer hover:text-orange-600",onClick:J=>this.$router.push(`/customer/${t.id}`)},"View",8,K)])]))),128))])])]),e("div",O,[e("p",Q,r(o.page)+" of "+r(Math.ceil(o.count/o.paggination))+" page",1),e("button",{onClick:s[5]||(s[5]=t=>l.ShowPrevF()),disabled:o.showPrev,class:"btnP"}," Prev ",8,R),e("button",{onClick:s[6]||(s[6]=t=>l.ShowNextF()),disabled:o.showNext,class:"btnP"}," Next ",8,q)])])}const Y=u(_,[["render",z]]);export{Y as default};
