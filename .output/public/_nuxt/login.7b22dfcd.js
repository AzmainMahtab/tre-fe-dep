import{_ as m,L as p,t as f,v as h,x as t,O as n,P as i,W as b,V as x}from"./entry.fd3bedb8.js";import{a as u}from"./axios.956017f4.js";import{n as r}from"./nuxt-storage.min.66bc230f.js";const _={components:{},data(){return{username:"",password:"",remember:!1}},created(){this.check()},methods:{async check(){this.token=r.localStorage.getData("token"),this.token!=null&&this.$router.push("/")},async SubmitForm(){let a={username:this.username,password:this.password};await u.post("/auth/login/",a).then(e=>{const d=p();console.log(e.data),e.data.id,u.get(`/crm-employees/?user_id=${e.data.id}`).then(l=>{if(l.data.length==0){alert("User details not completed");return}else d.addValueToToken(e.data.access_token),r.localStorage.setData("token",e.data.access_token,"1","d"),r.localStorage.setData("token_refresh",e.data.refresh_token,"1","d"),this.$router.push("/checking")}).catch(l=>{console.log(l)})}).catch(e=>{console.log(e)})}}},g={class:"flex justify-center items-center w-full h-full"},k={class:"shadow-lg w-3/5 h-3/4 grid grid-cols-5"},w=t("div",{class:"col-span-2 bg-[#E8FFF8] rounded-l-xl flex items-end justify-center pb-10"},[t("p",{class:"text-xs text-slate-500"}," We do believe in Creation, Not Construction ")],-1),y={class:"col-span-3 bg-white rounded-r-lg flex justify-center items-center"},v=t("p",{class:"px-20 font-bold text-3xl mb-6 text-center text-slate-700 text uppercase"}," W e l c o m e ",-1),S={class:"mb-10 px-2"},F={class:"py-1"},U=t("label",{class:"text-slate-700 block mb-1 font-semibold"},"Username",-1),V={class:"py-1"},C=t("label",{class:"text-slate-700 block mb-1 font-semibold"},"Password",-1),D={class:"py-1 items-center flex"},E=t("label",{class:"text-slate-700 ml-1"},"Remember Me",-1);function M(a,e,d,l,o,c){return f(),h("div",g,[t("div",k,[w,t("div",y,[t("div",null,[v,t("form",S,[t("div",F,[U,n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.username=s),type:"text",placeholder:"Enter Username",class:"border-2 text-lg rounded-md w-full py-1 px-3 focus:border-tre focus:outline-none focus:ring focus:ring-tre2 transition-all"},null,512),[[i,o.username]])]),t("div",V,[C,n(t("input",{type:"password",placeholder:"Enter Password","onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s),class:"border-2 text-lg rounded-md w-full py-1 px-3 focus:border-tre focus:outline-none focus:ring focus:ring-tre2 transition-all"},null,512),[[i,o.password]])]),t("div",D,[n(t("input",{type:"checkbox",class:"focus:border-red-500 border-slate-500","onUpdate:modelValue":e[2]||(e[2]=s=>o.remember=s)},null,512),[[b,o.remember]]),E]),t("button",{class:"w-full bg-slate-600 text-white font-bold rounded py-1",onClick:e[3]||(e[3]=x((...s)=>c.SubmitForm&&c.SubmitForm(...s),["prevent"]))}," Log in ")])])])])])}const P=m(_,[["render",M]]);export{P as default};
