import{a as c}from"./axios.932f1ea5.js";import{_ as v,v as n,x as e,U as y,O as r,P as i,S as p,y as u,Q as h,R as _,M as f,t as a,T as m}from"./entry.b2f02e1d.js";const g={components:{},data(){return{dataMedia:[],dataEmployee:[],formUser:{first_name:"",last_name:"",customer_uid:"",gender:"",status:"",priority:"Medium",source:"",email:"",phone:"",address:"",address2:"",nid:"",is_active:!1,assigned_employee_id:null,media_id:null},selectedOption:"",selectedOptionName:"",searchQuery:"",isDropdownOpen:!1,selectedOption1:"",selectedOptionName1:"",searchQuery1:"",isDropdownOpen1:!1}},created(){this.getData()},computed:{filteredOptions(){const l=this.searchQuery.toLowerCase();return this.dataMedia.filter(o=>o.first_name.toLowerCase().includes(l))},filteredOptions1(){const l=this.searchQuery1.toLowerCase();return this.dataEmployee.filter(o=>o.first_name.toLowerCase().includes(l))}},methods:{async getData(){await c.get("/crm-medias/").then(l=>{this.dataMedia=l.data}).catch(l=>{console.log(l)}),await c.get("/crm-employees/").then(l=>{this.dataEmployee=l.data}).catch(l=>{console.log(l)})},selectOption(l){this.formUser.media_id=l.id,this.selectedOption=l.id,this.selectedOptionName=l.first_name,this.isDropdownOpen=!1},selectOption1(l){this.formUser.assigned_employee_id=l.id,this.selectedOption1=l.id,this.selectedOptionName1=l.first_name,this.isDropdownOpen1=!1},async Save(){this.formUser.customer_uid=this.formUser.first_name[0]+this.formUser.last_name[0]+"0001",this.formUser.assigned_employee_id!=null&&(this.formUser.is_active=!0),await c.post("/crm-customers/",this.formUser).then(l=>{console.log(l),this.$router.push("/customer")}).catch(l=>{console.log(l)})}}},U={class:"flex justify-between items-center"},w=e("p",{class:"headerNav"},"Create New Lead",-1),O=e("div",{class:"borderNav"},null,-1),S={class:"grid grid-cols-3"},x=e("div",{class:"col-span-1"},null,-1),N={class:"col-span-1 mb-10"},k=e("label",{class:"lbl"},"First Name",-1),C=e("label",{class:"lbl"},"Last Name",-1),V=e("label",{class:"lbl"},"Phone",-1),D=e("label",{class:"lbl"},"Email",-1),M=e("label",{class:"lbl"},"Nid",-1),E=e("label",{class:"lbl"},"Gender",-1),L=e("option",{class:"text-slate-700",value:"",hidden:""}," Select Gender ",-1),q=e("option",{value:"Male"},"Male",-1),P=e("option",{value:"Female"},"Female",-1),Q=e("option",{value:"Non Binary"},"None Binary",-1),F=[L,q,P,Q],A=e("label",{class:"lbl"},"Status",-1),H=m('<option class="text-slate-700" value="" hidden> Select Status </option><option value="Raw">Raw</option><option value="Prospect">Prospect</option><option value="High Prospect">High Prospect</option><option value="Priority">Priority</option><option value="Closed">Closed</option>',6),B=[H],I=e("label",{class:"lbl"},"Priority",-1),R=m('<option value="Medium">Medium</option><option value="Highest">Highest</option><option value="High">High</option><option value="Low">Low</option><option value="Lowest">Lowest</option>',5),T=[R],z=e("label",{class:"lbl"},"Source",-1),G=m('<option class="text-slate-700" value="" hidden> Select Source </option><option value="Facbook">Facbook</option><option value="Instagram">Instagram</option><option value="Indeed">Indeed</option><option value="Walking">Walking</option>',5),W=[G],j=e("p",{class:"my-5 text-xl text-slate-700 font-bold"}," Medial Information ",-1),J=e("label",{class:"lbl"},"Media Source:",-1),K={class:"relative rounded-md hover:ring-2 ring-tre"},X={key:0,class:"absolute top-0 left-0 mt-9 bg-orange-50 z-50 border border-gray-300 shadow-lg rounded-md"},Y={class:"max-h-40 overflow-y-auto"},Z=["onClick"],$=e("label",{class:"lbl"},"Assigned To:",-1),ee={class:"relative rounded-md hover:ring-1 ring-tre"},se={key:0,class:"absolute top-0 left-0 mt-9 bg-orange-50 z-40 border border-gray-300 shadow-lg rounded-md"},oe={class:"max-h-40 overflow-y-auto"},te=["onClick"],le=e("label",{class:"lbl"},"Address Line 1",-1),re=e("label",{class:"lbl"},"Address Line 2(Optional)",-1),ie=e("button",{type:"submit",class:"btn w-full"},"Submit",-1),ne=e("div",{class:"col-span-1"},null,-1);function ae(l,o,de,pe,t,d){return a(),n("div",null,[e("div",U,[w,e("p",{class:"mr-2 underline text-slate-700 cursor-pointer hover:scale-105 font-semibold",onClick:o[0]||(o[0]=s=>this.$router.push("/customer"))}," View All Customers ")]),O,e("div",S,[x,e("div",N,[e("form",{onSubmit:o[16]||(o[16]=y((...s)=>d.Save&&d.Save(...s),["prevent"]))},[k,r(e("input",{type:"text",class:"inp",required:"",placeholder:"Enter First Name","onUpdate:modelValue":o[1]||(o[1]=s=>t.formUser.first_name=s)},null,512),[[i,t.formUser.first_name]]),C,r(e("input",{type:"text",class:"inp",required:"",placeholder:"Enter Last Name","onUpdate:modelValue":o[2]||(o[2]=s=>t.formUser.last_name=s)},null,512),[[i,t.formUser.last_name]]),V,r(e("input",{type:"number",class:"inp",required:"",placeholder:"Enter Phone Name","onUpdate:modelValue":o[3]||(o[3]=s=>t.formUser.phone=s)},null,512),[[i,t.formUser.phone]]),D,r(e("input",{type:"email",class:"inp",placeholder:"Enter Email","onUpdate:modelValue":o[4]||(o[4]=s=>t.formUser.email=s)},null,512),[[i,t.formUser.email]]),M,r(e("input",{type:"number",class:"inp",required:"",placeholder:"Enter Customer NiD","onUpdate:modelValue":o[5]||(o[5]=s=>t.formUser.nid=s)},null,512),[[i,t.formUser.nid]]),E,r(e("select",{"onUpdate:modelValue":o[6]||(o[6]=s=>t.formUser.gender=s),class:"inpS",required:""},F,512),[[p,t.formUser.gender]]),A,r(e("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>t.formUser.status=s),class:"inpS",required:""},B,512),[[p,t.formUser.status]]),I,r(e("select",{"onUpdate:modelValue":o[8]||(o[8]=s=>t.formUser.priority=s),class:"inpS",required:""},T,512),[[p,t.formUser.priority]]),z,r(e("select",{"onUpdate:modelValue":o[9]||(o[9]=s=>t.formUser.source=s),class:"inpS"},W,512),[[p,t.formUser.source]]),j,J,e("div",K,[e("div",{class:"form-input block w-full px-2 py-1 border-2 rounded-md cursor-pointer",onClick:o[10]||(o[10]=s=>t.isDropdownOpen=!t.isDropdownOpen)},u(t.selectedOptionName||"Search Media"),1),t.isDropdownOpen?(a(),n("div",X,[r(e("input",{"onUpdate:modelValue":o[11]||(o[11]=s=>t.searchQuery=s),class:"form-input p-2 border-b border-gray-300 focus:outline-none",placeholder:"Search options"},null,512),[[i,t.searchQuery]]),e("ul",Y,[(a(!0),n(h,null,_(d.filteredOptions,s=>(a(),n("li",{key:s.id,onClick:b=>d.selectOption(s),class:"p-2 hover:bg-tre cursor-pointer"},u(s.first_name+" "+s.last_name),9,Z))),128))])])):f("",!0)]),$,e("div",ee,[e("div",{class:"form-input block w-full px-2 py-1 border-2 rounded-md cursor-pointer",onClick:o[12]||(o[12]=s=>t.isDropdownOpen1=!t.isDropdownOpen1)},u(t.selectedOptionName1||"Search Employee"),1),t.isDropdownOpen1?(a(),n("div",se,[r(e("input",{"onUpdate:modelValue":o[13]||(o[13]=s=>t.searchQuery1=s),class:"form-input p-2 border-b border-gray-300 focus:outline-none",placeholder:"Search options"},null,512),[[i,t.searchQuery1]]),e("ul",oe,[(a(!0),n(h,null,_(d.filteredOptions1,s=>(a(),n("li",{key:s.id,onClick:b=>d.selectOption1(s),class:"p-2 hover:bg-tre cursor-pointer"},u(s.first_name+" "+s.last_name),9,te))),128))])])):f("",!0)]),le,r(e("textarea",{class:"inp",required:"",placeholder:"Enter Customer Address","onUpdate:modelValue":o[14]||(o[14]=s=>t.formUser.address=s)},null,512),[[i,t.formUser.address]]),re,r(e("textarea",{class:"inp",placeholder:"Enter Customer Address","onUpdate:modelValue":o[15]||(o[15]=s=>t.formUser.address2=s)},null,512),[[i,t.formUser.address2]]),ie],32)]),ne])])}const me=v(g,[["render",ae]]);export{me as default};
