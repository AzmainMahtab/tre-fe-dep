import{a as m}from"./axios.932f1ea5.js";import{_ as v,U as y,t as n,v as a,x as e,V as g,O as l,P as i,Q as p,y as u,R as h,S as _,M as f,T as c}from"./entry.1b94297b.js";const U=y(),w={components:{},data(){return{dataMedia:[],dataEmployee:[],formUser:{first_name:"",last_name:"",customer_uid:"",gender:"",status:"",priority:"Medium",source:"",email:"",phone:"",address:"",address2:"",nid:"",is_active:!1,assigned_employee_id:null,media_id:null},selectedOption:"",selectedOptionName:"",searchQuery:"",isDropdownOpen:!1,selectedOption1:"",selectedOptionName1:"",searchQuery1:"",isDropdownOpen1:!1}},created(){this.getData()},computed:{filteredOptions(){const r=this.searchQuery.toLowerCase();return this.dataMedia.filter(o=>o.first_name.toLowerCase().includes(r))},filteredOptions1(){const r=this.searchQuery1.toLowerCase();return this.dataEmployee.filter(o=>o.first_name.toLowerCase().includes(r))}},methods:{async getData(){await m.get("/crm-medias/").then(r=>{this.dataMedia=r.data}).catch(r=>{console.log(r)}),await m.get("/crm-employees/").then(r=>{this.dataEmployee=r.data}).catch(r=>{console.log(r)})},selectOption(r){this.formUser.media_id=r.id,this.selectedOption=r.id,this.selectedOptionName=r.first_name,this.isDropdownOpen=!1},selectOption1(r){this.formUser.assigned_employee_id=r.id,this.selectedOption1=r.id,this.selectedOptionName1=r.first_name,this.isDropdownOpen1=!1},async Save(){this.formUser.customer_uid=this.formUser.first_name+this.formUser.last_name[0]+this.formUser.last_name[-1],this.formUser.assigned_employee_id!=null&&(this.formUser.is_active=!0),await m.post("/crm-customers/",this.formUser).then(r=>{console.log(r),this.$router.push("/customer")}).catch(r=>{console.log(r.response.data),U.error(r.response.data,{position:"bottom-right",timeout:3e3})})}}},O={class:"flex justify-between items-center"},S=e("p",{class:"headerNav"},"Create New Lead",-1),x=e("div",{class:"borderNav"},null,-1),N={class:"grid grid-cols-3"},k=e("div",{class:"col-span-1"},null,-1),C={class:"col-span-1 mb-10"},V=e("label",{class:"lbl"},"First Name",-1),D=e("label",{class:"lbl"},"Last Name",-1),M=e("label",{class:"lbl"},"Phone",-1),E=e("label",{class:"lbl"},"Email",-1),L=e("label",{class:"lbl"},"Nid",-1),q=e("label",{class:"lbl"},"Gender",-1),P=e("option",{class:"text-slate-700",value:"",hidden:""}," Select Gender ",-1),Q=e("option",{value:"Male"},"Male",-1),F=e("option",{value:"Female"},"Female",-1),A=e("option",{value:"Non Binary"},"None Binary",-1),H=[P,Q,F,A],B=e("label",{class:"lbl"},"Status",-1),I=c('<option class="text-slate-700" value="" hidden> Select Status </option><option value="Raw">Raw</option><option value="Prospect">Prospect</option><option value="High Prospect">High Prospect</option><option value="Priority">Priority</option><option value="Closed">Closed</option>',6),T=[I],R=e("label",{class:"lbl"},"Priority",-1),z=c('<option value="Medium">Medium</option><option value="Highest">Highest</option><option value="High">High</option><option value="Low">Low</option><option value="Lowest">Lowest</option>',5),G=[z],W=e("label",{class:"lbl"},"Source",-1),j=c('<option class="text-slate-700" value="" hidden> Select Source </option><option value="Facbook">Facbook</option><option value="Instagram">Instagram</option><option value="Indeed">Indeed</option><option value="Walking">Walking</option>',5),J=[j],K=e("p",{class:"my-5 text-xl text-slate-700 font-bold"}," Medial Information ",-1),X=e("label",{class:"lbl"},"Media Source:",-1),Y={class:"relative rounded-md hover:ring-2 ring-tre"},Z={key:0,class:"absolute top-0 left-0 mt-9 bg-orange-50 z-50 border border-gray-300 shadow-lg rounded-md"},$={class:"max-h-40 overflow-y-auto"},ee=["onClick"],se=e("label",{class:"lbl"},"Assigned To:",-1),oe={class:"relative rounded-md hover:ring-1 ring-tre"},te={key:0,class:"absolute top-0 left-0 mt-9 bg-orange-50 z-40 border border-gray-300 shadow-lg rounded-md"},re={class:"max-h-40 overflow-y-auto"},le=["onClick"],ie=e("label",{class:"lbl"},"Address Line 1",-1),ne=e("label",{class:"lbl"},"Address Line 2(Optional)",-1),ae=e("button",{type:"submit",class:"btn w-full"},"Submit",-1),de=e("div",{class:"col-span-1"},null,-1);function pe(r,o,ue,me,t,d){return n(),a("div",null,[e("div",O,[S,e("p",{class:"mr-2 underline text-slate-700 cursor-pointer hover:scale-105 font-semibold",onClick:o[0]||(o[0]=s=>this.$router.push("/customer"))}," View All Customers ")]),x,e("div",N,[k,e("div",C,[e("form",{onSubmit:o[16]||(o[16]=g((...s)=>d.Save&&d.Save(...s),["prevent"]))},[V,l(e("input",{type:"text",class:"inp",required:"",placeholder:"Enter First Name","onUpdate:modelValue":o[1]||(o[1]=s=>t.formUser.first_name=s)},null,512),[[i,t.formUser.first_name]]),D,l(e("input",{type:"text",class:"inp",required:"",placeholder:"Enter Last Name","onUpdate:modelValue":o[2]||(o[2]=s=>t.formUser.last_name=s)},null,512),[[i,t.formUser.last_name]]),M,l(e("input",{type:"number",class:"inp",required:"",placeholder:"Enter Phone Name","onUpdate:modelValue":o[3]||(o[3]=s=>t.formUser.phone=s)},null,512),[[i,t.formUser.phone]]),E,l(e("input",{type:"email",class:"inp",placeholder:"Enter Email","onUpdate:modelValue":o[4]||(o[4]=s=>t.formUser.email=s)},null,512),[[i,t.formUser.email]]),L,l(e("input",{type:"number",class:"inp",required:"",placeholder:"Enter Customer NiD","onUpdate:modelValue":o[5]||(o[5]=s=>t.formUser.nid=s)},null,512),[[i,t.formUser.nid]]),q,l(e("select",{"onUpdate:modelValue":o[6]||(o[6]=s=>t.formUser.gender=s),class:"inpS",required:""},H,512),[[p,t.formUser.gender]]),B,l(e("select",{"onUpdate:modelValue":o[7]||(o[7]=s=>t.formUser.status=s),class:"inpS",required:""},T,512),[[p,t.formUser.status]]),R,l(e("select",{"onUpdate:modelValue":o[8]||(o[8]=s=>t.formUser.priority=s),class:"inpS",required:""},G,512),[[p,t.formUser.priority]]),W,l(e("select",{"onUpdate:modelValue":o[9]||(o[9]=s=>t.formUser.source=s),class:"inpS"},J,512),[[p,t.formUser.source]]),K,X,e("div",Y,[e("div",{class:"form-input block w-full px-2 py-1 border-2 rounded-md cursor-pointer",onClick:o[10]||(o[10]=s=>t.isDropdownOpen=!t.isDropdownOpen)},u(t.selectedOptionName||"Search Media"),1),t.isDropdownOpen?(n(),a("div",Z,[l(e("input",{"onUpdate:modelValue":o[11]||(o[11]=s=>t.searchQuery=s),class:"form-input p-2 border-b border-gray-300 focus:outline-none",placeholder:"Search options"},null,512),[[i,t.searchQuery]]),e("ul",$,[(n(!0),a(h,null,_(d.filteredOptions,s=>(n(),a("li",{key:s.id,onClick:b=>d.selectOption(s),class:"p-2 hover:bg-tre cursor-pointer"},u(s.first_name+" "+s.last_name),9,ee))),128))])])):f("",!0)]),se,e("div",oe,[e("div",{class:"form-input block w-full px-2 py-1 border-2 rounded-md cursor-pointer",onClick:o[12]||(o[12]=s=>t.isDropdownOpen1=!t.isDropdownOpen1)},u(t.selectedOptionName1||"Search Employee"),1),t.isDropdownOpen1?(n(),a("div",te,[l(e("input",{"onUpdate:modelValue":o[13]||(o[13]=s=>t.searchQuery1=s),class:"form-input p-2 border-b border-gray-300 focus:outline-none",placeholder:"Search options"},null,512),[[i,t.searchQuery1]]),e("ul",re,[(n(!0),a(h,null,_(d.filteredOptions1,s=>(n(),a("li",{key:s.id,onClick:b=>d.selectOption1(s),class:"p-2 hover:bg-tre cursor-pointer"},u(s.first_name+" "+s.last_name),9,le))),128))])])):f("",!0)]),ie,l(e("textarea",{class:"inp",required:"",placeholder:"Enter Customer Address","onUpdate:modelValue":o[14]||(o[14]=s=>t.formUser.address=s)},null,512),[[i,t.formUser.address]]),ne,l(e("textarea",{class:"inp",placeholder:"Enter Customer Address","onUpdate:modelValue":o[15]||(o[15]=s=>t.formUser.address2=s)},null,512),[[i,t.formUser.address2]]),ae],32)]),de])])}const _e=v(w,[["render",pe]]);export{_e as default};
