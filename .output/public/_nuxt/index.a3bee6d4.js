import{a as p}from"./axios.932f1ea5.js";import{_ as u,L as h,t as a,v as n,x as e,O as c,P as m,W as x,M as d,R as f,S as _,y as r}from"./entry.dec09927.js";const y={data(){return{empid:1,dataCustomer:[],search:"",myCustomer:!1,isActive:!1,count:0,page:1,paggination:8,showNext:!1,showPrev:!1}},created(){this.getData()},methods:{async getData(){const l=h();console.log(l.id),this.myCustomer?(this.empid=l.idEmp,this.isActive=!0):(this.empid="",this.isActive=!1),await p.get(`/crm-customers-table/?assigned_employee_id=${this.empid}&is_active=${this.isActive}&page=${this.page}&search=${this.search}`).then(t=>{t.data.previous==null?this.showPrev=!0:this.showPrev=!1,t.data.next==null?this.showNext=!0:this.showNext=!1,this.count=t.data.count,this.dataCustomer=t.data.results}).catch(t=>{console.log(t)})},ShowNextF(){this.page++,this.getData()},ShowPrevF(){this.page--,this.getData()},goToCreate(){this.$router.push("/customer/create")}}},g={class:"flex justify-between"},b=e("p",{class:"headerNav"},"All Customers",-1),v=e("div",{class:"borderNav"},null,-1),w={class:"flex justify-start items-center mx-2"},C=e("div",{class:"text-sm font-medium text-gray-800"},"Search by name:",-1),k=e("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-tre peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-tre2"},null,-1),N={key:0,class:"ms-2 text-sm font-medium text-gray-800"},P={key:1,class:"ms-2 text-sm font-medium text-gray-800"},D={class:"m-2"},S={class:"min-w-max w-full table-auto"},A=e("thead",{class:""},[e("tr",{class:"bg-gray-200 text-gray-700 font-semibold uppercase text-[13px]"},[e("th",{class:"py-2 px-6 text-left rounded-tl"},"ID"),e("th",{class:"py-2 px-6 text-center"},"Lead Title"),e("th",{class:"py-2 px-6 text-center"},"Phone"),e("th",{class:"py-2 px-6 text-center"},"Assign Person"),e("th",{class:"py-2 px-6 text-center"},"Status"),e("th",{class:"py-2 px-6 text-center"},"Created At"),e("th",{class:"py-2 px-6 text-center rounded-tr"},"Action")])],-1),F={class:"text-sm font-medium text-gray-700"},M={class:"py-3 px-6 text-left whitespace-nowrap"},V={class:"font-semibold"},T={class:"py-1 px-6 text-center"},j={class:"py-1 px-6 text-center"},B={class:"py-1 px-6 text-center"},E={key:0},L={key:1},U={class:"py-1 px-6 text-center"},I={class:"py-1 px-6 text-center"},K={class:"py-1 px-6 text-center"},O=["onClick"],R={class:"flex justify-end items-center mr-10"},W={class:"lbl"},q=["disabled"],z=["disabled"];function G(l,t,H,J,o,i){return a(),n("div",null,[e("div",g,[b,e("button",{onClick:t[0]||(t[0]=s=>this.$router.push("/customer/create")),class:"btnC flex items-center"}," Create Custome ")]),v,e("div",w,[C,c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.search=s),type:"text",placeholder:"Enter First Name",onKeyup:t[2]||(t[2]=s=>{o.page=1,i.getData()}),class:"border-1 mx-1 text-base rounded-md w-[200px] py-1 px-3 focus:border-tre focus:bottom-0 focus:outline-none focus:ring focus:ring-tre transition-all"},null,544),[[m,o.search]]),e("label",{onChange:t[4]||(t[4]=s=>{o.page=1,i.getData()}),class:"relative inline-flex items-center cursor-pointer mx-1"},[c(e("input",{type:"checkbox",value:"",class:"sr-only peer","onUpdate:modelValue":t[3]||(t[3]=s=>o.myCustomer=s)},null,512),[[x,o.myCustomer]]),k,o.myCustomer?(a(),n("span",N,"My Customers")):d("",!0),o.myCustomer?d("",!0):(a(),n("span",P,"New Customers"))],32)]),e("div",D,[e("table",S,[A,e("tbody",F,[(a(!0),n(f,null,_(o.dataCustomer,s=>(a(),n("tr",{key:s,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",M,[e("span",V,r(s.id),1)]),e("td",T,r(s.first_name),1),e("td",j,r(s.phone),1),e("td",B,[s.assigned_employee_id==null?(a(),n("span",E,"Not assigned")):(a(),n("span",L,r(s.assigned_employee_id),1))]),e("td",U,r(s.status),1),e("td",I,r(s.created_at),1),e("td",K,[e("span",{class:"text-tre4 underline cursor-pointer hover:text-orange-600",onClick:Q=>this.$router.push(`/customer/${s.id}`)},"View",8,O)])]))),128))])])]),e("div",R,[e("p",W,r(o.page)+" of "+r(Math.ceil(o.count/o.paggination))+" page",1),e("button",{onClick:t[5]||(t[5]=s=>i.ShowPrevF()),disabled:o.showPrev,class:"btnP"}," Prev ",8,q),e("button",{onClick:t[6]||(t[6]=s=>i.ShowNextF()),disabled:o.showNext,class:"btnP"}," Next ",8,z)])])}const Z=u(y,[["render",G]]);export{Z as default};
